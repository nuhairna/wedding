<template>
    <div class="undangan-wrapper">
        <div class="cover">
            <div class="banner-akanikah">
              <center style="color:red">Kepada: {{undangan}}</center>
                <!-- <img src="https://akanikah.com/front/tema-preview/classic-1/images/logo_akanikah.png" loading="lazy"
                    width="110" alt=""> -->
            </div>
            <div class="wrapper-cover">
                <img src="../assets/images/dashboard1.png" loading="lazy" alt=""
                    class="image-cover">
                <!-- <img src="https://akanikah.com/front/tema-preview/classic-1/images/galeri7.jpg" loading="lazy" alt=""
                    class="image-cover"> -->
            </div>
        </div>

        <div class="opening">
            <div class="nama-pasangan">
                <div class="_16dark bottom20">Undangan Pernikahan</div>
                <div class="_16dark bottom20 tgl">11- 12 -2021</div>
                <div class="nama top20">Irna Roudlotul Choiroh</div>
                <center><i>Putri Bapak <b>Besut Hariyanto (Alm)</b> & <b>Ibu Nur Achmi</b></i></center>
                <div class="nama">&amp;</div>
                <div class="nama bottom20">Muhammad Ulin Nuha</div>
                <center><i>Putra Bapak <b>Mathori</b> & Ibu <b>Umi Abidah</b></i></center>
            </div>
        </div>
        <div class="undangan">
            <div class="_18reg">Assalamualaikum Warahmatullahi Wabarakatuh</div>
            <div class="_16dark top20 bottom20">Dengan memohon rahmat dan ridho Allah SWT, kami mengundang
                Bapak/Ibu/Saudara/i untuk menghadiri pernikahan Putra-Putri kami yang insya Allah akan dilaksanakan pada
                :</div>
            <div class="akad">
                <div class="title">AKAD NIKAH</div>
                <div class="detail">
                    <div class="wrapper_datetime with_border">
                        <div class="waktutgl">
                            <div class="harinya">Sabtu</div>
                            <div class="tanggalnya">11 Desember 2021</div>
                        </div>
                        <i class="fa fa-calendar fa-2x" style="color:black"></i> &nbsp;
                    </div>
                    <div class="wrapper_datetime"> 
                        &nbsp;<i class="fa fa-clock fa-2x" style="color:black"></i>
                        <div class="waktutgl">
                            <div class="harinya">08:00 WIB</div>
                            <div class="tanggalnya">Sampai selesai</div>
                        </div>
                    </div>
                </div>
                <div class="_16dark top20 notop">Jl.Undar RT/RW 09/02 Ds.Menganto Mojowarno Jombang <br>(Utara musolla Baitussalam)</div>
            </div>
            <div class="akad top40">
                <div class="title">resepsi</div>
                <div class="detail">
                    <div class="wrapper_datetime with_border">
                        <div class="waktutgl">
                            <div class="harinya">Sabtu</div>
                            <div class="tanggalnya">11 Desember 2021</div>
                        </div>
                        <i class="fa fa-calendar fa-2x" style="color:black"></i> &nbsp;
                    </div>
                    <div class="wrapper_datetime"> 
                        &nbsp;<i class="fa fa-clock fa-2x" style="color:black"></i>
                        <div class="waktutgl">
                            <div class="harinya">10:00 WIB</div>
                            <div class="tanggalnya">Sampai selesai</div>
                        </div>
                    </div>
                </div>
                <div class="_16dark top20 notop">Jl.Undar RT/RW 09/02 Ds.Menganto Mojowarno Jombang <br>(Utara musolla Baitussalam)</div>
            </div>
        </div>
        <div class="himbauan">
            <div class="himbauan-text">Dimohon untuk para tamu undangan agar tetap mematuhi protokol kesehatan yang
                berlaku.</div>
        </div>
        <div class="album">
            <div class="title">ALbum Wedding</div>
            <div class="w-layout-grid grid-photo">
                <img src="https://akanikah.com/front/tema-preview/classic-1/images/galeri1.jpg" loading="lazy" alt=""
                    class="img">
                <img src="https://akanikah.com/front/tema-preview/classic-1/images/galeri2.jpg" loading="lazy" alt=""
                    class="img">
                <img src="https://akanikah.com/front/tema-preview/classic-1/images/galeri3.jpg" loading="lazy" alt=""
                    class="img">
                <img src="https://akanikah.com/front/tema-preview/classic-1/images/galeri4.jpg" loading="lazy" alt=""
                    class="img">
                <img src="https://akanikah.com/front/tema-preview/classic-1/images/galeri5.jpg" loading="lazy" alt=""
                    class="img">
                <img src="https://akanikah.com/front/tema-preview/classic-1/images/galeri6.jpg" loading="lazy" alt=""
                    class="img">
                <img src="https://akanikah.com/front/tema-preview/classic-1/images/galeri7.jpg" loading="lazy" alt=""
                    class="img">
                <img src="https://akanikah.com/front/tema-preview/classic-1/images/galeri8.jpg" loading="lazy" alt=""
                    class="img">
            </div>
        </div>

        <div class="comment">
            <div class="youtube-video-container">
                <iframe width="560" height="315" src="https://www.youtube.com/embed/xooP_KOIAXk" frameborder="0"
                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen></iframe>
            </div>
        </div>

        <div class="peta">
            <div class="title">Peta Lokasi</div>
            <div class="petanya">
                <iframe width="100%" height="300"
                    src="https://maps.google.com/maps?hl=en&amp;q=-5.1532445,119.4430157&amp;ie=UTF8&amp;t=&amp;z=15&amp;iwloc=B&amp;output=embed"
                    frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe>
            </div>
        </div>
        <div class="comment">
            <h3 class="h3 m24 ldark">BERIKAN UCAPAN</h3>
            <div class="wrapper-ucapan">
                <div class="form-block w-form">
                    <!-- <form id="email-form" name="email-form" data-name="Email Form" class="form-ucapan"> -->
                        <label for="name" class="label">Nama</label>
                        <input type="text" class="text-field-2 w-input" maxlength="256" name="name" data-name="Name"
                            placeholder="Masukkan nama kamu" id="name" required=""
                            v-model="name"
                            @keyUp.enter.prevent="addItem">
                        <label for="ucapan" class="label">Masukkan ucapanmu</label>
                        <textarea name="pesan" placeholder="Berikan ucapan terbaikmu untuk calon mempelai" id=""
                            cols="30" rows="" class="text-field-2 w-input"
                            v-model="ucapan"
                            @keyUp.enter.prevent="addItem"></textarea>
                        <input type="submit" value="Kirim Ucapan" data-wait="Please wait..."
                            class="submit-button w-button" @click.prevent="addItem">
                    <!-- </form> -->
                    <div class="w-form-done">
                        <div>Thank you! Your submission has been received!</div>
                    </div>
                    <div class="w-form-fail">
                        <div>Oops! Something went wrong while submitting the form.</div>
                    </div>
                </div>
            </div>
            <div class="wrapper-comment">
                <div class="item-comment" 
                  v-for="data in datas"
                  :key="data.id">
                    <div class="comentator">@{{ data.name }}</div>
                    <p class="p-comment">{{ data.ucapan }}</p>
                </div>
            </div>
        </div>
        <div class="footer">
            <div class="footer-text">Â© Akanikah 2015-2020</div>
            <div class="footer-text top20">Full support by <a href="#" class="link"><span>Akanikah Team</span></a>
            </div>
        </div>
        <div id="backgroundaudio">
            <div class="title-music">
                <i class="zmdi zmdi-volume-up"></i>
                <div class="link">
                    <div class="text">Sound from</div>
                    <a href="#">Bensound</a>
                </div>
            </div>
            <audio autoplay="" controls="" loop="" preload="">
                <source src="https://akanikah.com/front/musik/audio-love.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
        </div>
    </div>
</template>

<script>
let uri = window.location.search.substring(1); 
let params = new URLSearchParams(uri);
import { db } from "../firebase/db";
export default {
  name: 'HelloWorld',
  props: {
    msg: String
  },
  data: function() {
    return  {
      undangan: params.get("undangan"),
      datas: [],
      name: '',
      ucapan:'',
    }
  },
  methods: {
      deleteToDo(id) {
      db.collection("testing")
          .doc(id)
          .delete();
      },
      async addItem() {

          console.log(this.name);
          if (this.name && this.ucapan) {
              await db.collection("testing").add({ name: this.name, ucapan:this.ucapan });
              this.name = "";
              this.ucapan = "";
          }
      },
  },
  firestore: {
      datas: db.collection("testing")
  }
}
</script>